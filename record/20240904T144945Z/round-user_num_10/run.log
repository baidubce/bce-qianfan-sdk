[2024-09-04 14:49:45,276] MacBook-Pro/INFO/root: Waiting for workers to be ready, 0 of 10 connected
[2024-09-04 14:49:45,819] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_9f2af7c43fe24be5adc44f28f02a70c0 (index 0) reported as ready. 1 workers connected.
[2024-09-04 14:49:45,823] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:49:45,824] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_4dea41d7857943ada5985b9f66c3d840 (index 1) reported as ready. 2 workers connected.
[2024-09-04 14:49:45,826] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:49:45,826] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_8bf3ad2f002642af8050e36ea31bf0c1 (index 2) reported as ready. 3 workers connected.
[2024-09-04 14:49:45,829] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:49:45,831] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_36aa8bd4786d4f378511ffcfb4ea66c5 (index 3) reported as ready. 4 workers connected.
[2024-09-04 14:49:45,834] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:49:45,833] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_4a4fb8fab833419790f5df6446f0e4e4 (index 4) reported as ready. 5 workers connected.
[2024-09-04 14:49:45,836] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_fd1c43ac09854b208598edd83def7c1e (index 5) reported as ready. 6 workers connected.
[2024-09-04 14:49:45,836] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:49:45,840] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_ac45bf6811504cd384d31a970d5b59b8 (index 6) reported as ready. 7 workers connected.
[2024-09-04 14:49:45,840] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:49:45,841] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:49:45,842] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_01d27c48f88440ae9a6ff72bf957a1a7 (index 7) reported as ready. 8 workers connected.
[2024-09-04 14:49:45,843] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_26c055d9ddc64227ad031a2a470191cc (index 8) reported as ready. 9 workers connected.
[2024-09-04 14:49:45,843] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:49:45,844] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:49:45,846] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_63abada159994c2884b2167b7ad1cb12 (index 9) reported as ready. 10 workers connected.
[2024-09-04 14:49:45,847] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:49:46,278] MacBook-Pro/INFO/locust.main: No run time limit set, use CTRL+C to interrupt
[2024-09-04 14:49:46,280] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:49:46,281] MacBook-Pro/INFO/locust.runners: Sending spawn jobs of 10 users at 10.00 spawn rate to 10 ready workers
[2024-09-04 14:49:46,400] MacBook-Pro/INFO/locust.runners: All users spawned: {"QianfanLLMLoadUser": 10} (10 total users)
[2024-09-04 14:49:48,717] MacBook-Pro/ERROR/locust.user.task: 'record_dir'
Traceback (most recent call last):
  File "/opt/anaconda3/envs/xn/lib/python3.11/site-packages/locust/user/task.py", line 340, in run
    self.execute_next_task()
  File "/opt/anaconda3/envs/xn/lib/python3.11/site-packages/locust/user/task.py", line 373, in execute_next_task
    self.execute_task(self._task_queue.popleft())
  File "/opt/anaconda3/envs/xn/lib/python3.11/site-packages/locust/user/task.py", line 490, in execute_task
    task(self.user)
  File "/Users/jianruitian/Documents/GitHub/bce-qianfan-sdk/python/qianfan/dataset/stress_test/qianfan_llm_load.py", line 699, in mytask
    self.client.qianfan_request(
  File "/Users/jianruitian/Documents/GitHub/bce-qianfan-sdk/python/qianfan/dataset/stress_test/qianfan_llm_load.py", line 134, in qianfan_request
    request_meta = self._request_internal(context=context, **kwargs)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jianruitian/Documents/GitHub/bce-qianfan-sdk/python/qianfan/dataset/stress_test/qianfan_llm_load.py", line 357, in _request_internal
    dir = GlobalData.data['record_dir']
          ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
KeyError: 'record_dir'

[2024-09-04 14:49:48,720] MacBook-Pro.local/WARNING/yame.runner: Distributor[distributor] StopIteration occurs 10 times, and 10 users have been spawned.
[2024-09-04 14:49:48,723] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:49:48,723] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:49:48,724] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:49:48,723] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:49:48,724] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:49:48,725] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:49:48,725] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:49:48,724] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:49:48,726] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:49:48,726] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:49:48,813] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:49:48,813] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:49:48,815] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:49:48,817] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:49:48,817] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_ac45bf6811504cd384d31a970d5b59b8' (index 6) quit. 0 workers ready.
[2024-09-04 14:49:48,818] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:49:48,819] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:49:48,819] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_9f2af7c43fe24be5adc44f28f02a70c0' (index 0) quit. 0 workers ready.
[2024-09-04 14:49:48,821] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:49:48,821] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_4dea41d7857943ada5985b9f66c3d840' (index 1) quit. 0 workers ready.
[2024-09-04 14:49:48,822] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:49:48,822] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_4a4fb8fab833419790f5df6446f0e4e4' (index 4) quit. 0 workers ready.
[2024-09-04 14:49:48,822] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:49:48,822] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_63abada159994c2884b2167b7ad1cb12' (index 9) quit. 0 workers ready.
[2024-09-04 14:49:48,823] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_fd1c43ac09854b208598edd83def7c1e' (index 5) quit. 0 workers ready.
[2024-09-04 14:49:48,823] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_01d27c48f88440ae9a6ff72bf957a1a7' (index 7) quit. 0 workers ready.
[2024-09-04 14:49:48,824] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:49:48,824] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_26c055d9ddc64227ad031a2a470191cc' (index 8) quit. 0 workers ready.
[2024-09-04 14:49:48,824] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_8bf3ad2f002642af8050e36ea31bf0c1' (index 2) quit. 0 workers ready.
[2024-09-04 14:49:48,825] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_36aa8bd4786d4f378511ffcfb4ea66c5' (index 3) quit. 0 workers ready.
[2024-09-04 14:49:48,825] MacBook-Pro/INFO/locust.runners: The last worker quit, stopping test.
[2024-09-04 14:49:49,310] MacBook-Pro/INFO/locust.main: writing html report to file: record/20240904T144945Z/round-user_num_10/report_user_num_10.html
[2024-09-04 14:49:49,813] MacBook-Pro/INFO/locust.main: Shutting down (exit code 1)
