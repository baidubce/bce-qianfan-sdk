[2024-09-04 14:41:23,779] MacBook-Pro/INFO/root: Waiting for workers to be ready, 0 of 10 connected
[2024-09-04 14:41:24,339] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_ece88b0df17e4d969b6b618a05667681 (index 0) reported as ready. 1 workers connected.
[2024-09-04 14:41:24,340] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:41:24,344] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_f06e569d86b3437fa5291fa7543acde8 (index 1) reported as ready. 2 workers connected.
[2024-09-04 14:41:24,346] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:41:24,347] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_42496e8a8f1843a7b881857cf3226cde (index 2) reported as ready. 3 workers connected.
[2024-09-04 14:41:24,349] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_dbbf18ae5e3c4ca8a22454b46e406ec5 (index 3) reported as ready. 4 workers connected.
[2024-09-04 14:41:24,350] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:41:24,351] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_b0e9e5c4340c49ea902177a9b7e28e6b (index 4) reported as ready. 5 workers connected.
[2024-09-04 14:41:24,352] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:41:24,352] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:41:24,353] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_9b673c16066d480da35b96d016e343b7 (index 5) reported as ready. 6 workers connected.
[2024-09-04 14:41:24,354] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:41:24,355] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_c95b361e5600431e97e1b709939d0bb9 (index 6) reported as ready. 7 workers connected.
[2024-09-04 14:41:24,356] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:41:24,359] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_8b9765b457134a0db159b9bace9da4b1 (index 7) reported as ready. 8 workers connected.
[2024-09-04 14:41:24,359] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_3f366f3c32974320bdffb394bcf22977 (index 8) reported as ready. 9 workers connected.
[2024-09-04 14:41:24,359] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:41:24,360] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:41:24,362] MacBook-Pro/INFO/locust.runners: Worker MacBook-Pro.local_a12836f05cd94657a323138543179068 (index 9) reported as ready. 10 workers connected.
[2024-09-04 14:41:24,363] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:41:24,781] MacBook-Pro/INFO/locust.main: No run time limit set, use CTRL+C to interrupt
[2024-09-04 14:41:24,782] MacBook-Pro/INFO/locust.main: Starting Locust 2.31.4
[2024-09-04 14:41:24,784] MacBook-Pro/INFO/locust.runners: Sending spawn jobs of 10 users at 10.00 spawn rate to 10 ready workers
[2024-09-04 14:41:24,884] MacBook-Pro/INFO/locust.runners: All users spawned: {"QianfanLLMLoadUser": 10} (10 total users)
[2024-09-04 14:41:27,117] MacBook-Pro/ERROR/locust.user.task: Object of type _GenericAlias is not JSON serializable
Traceback (most recent call last):
  File "/opt/anaconda3/envs/xn/lib/python3.11/site-packages/locust/user/task.py", line 340, in run
    self.execute_next_task()
  File "/opt/anaconda3/envs/xn/lib/python3.11/site-packages/locust/user/task.py", line 373, in execute_next_task
    self.execute_task(self._task_queue.popleft())
  File "/opt/anaconda3/envs/xn/lib/python3.11/site-packages/locust/user/task.py", line 490, in execute_task
    task(self.user)
  File "/Users/jianruitian/Documents/GitHub/bce-qianfan-sdk/python/qianfan/dataset/stress_test/qianfan_llm_load.py", line 699, in mytask
    self.client.qianfan_request(
  File "/Users/jianruitian/Documents/GitHub/bce-qianfan-sdk/python/qianfan/dataset/stress_test/qianfan_llm_load.py", line 134, in qianfan_request
    request_meta = self._request_internal(context=context, **kwargs)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jianruitian/Documents/GitHub/bce-qianfan-sdk/python/qianfan/dataset/stress_test/qianfan_llm_load.py", line 353, in _request_internal
    res = json.dumps(res,ensure_ascii=False)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/envs/xn/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/opt/anaconda3/envs/xn/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/envs/xn/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/envs/xn/lib/python3.11/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type _GenericAlias is not JSON serializable

[2024-09-04 14:41:27,119] MacBook-Pro.local/WARNING/yame.runner: Distributor[distributor] StopIteration occurs 10 times, and 10 users have been spawned.
[2024-09-04 14:41:27,122] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:41:27,122] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:41:27,122] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:41:27,123] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:41:27,124] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:41:27,124] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:41:27,124] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:41:27,125] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:41:27,127] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:41:27,127] MacBook-Pro/INFO/locust.runners: Got quit message from master, shutting down...
[2024-09-04 14:41:27,210] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:41:27,210] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_a12836f05cd94657a323138543179068' (index 9) quit. 0 workers ready.
[2024-09-04 14:41:27,216] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_b0e9e5c4340c49ea902177a9b7e28e6b' (index 4) quit. 0 workers ready.
[2024-09-04 14:41:27,216] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:41:27,217] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:41:27,217] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_ece88b0df17e4d969b6b618a05667681' (index 0) quit. 0 workers ready.
[2024-09-04 14:41:27,221] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:41:27,221] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_dbbf18ae5e3c4ca8a22454b46e406ec5' (index 3) quit. 0 workers ready.
[2024-09-04 14:41:27,222] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:41:27,222] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_9b673c16066d480da35b96d016e343b7' (index 5) quit. 0 workers ready.
[2024-09-04 14:41:27,228] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:41:27,228] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_f06e569d86b3437fa5291fa7543acde8' (index 1) quit. 0 workers ready.
[2024-09-04 14:41:27,230] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:41:27,230] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_8b9765b457134a0db159b9bace9da4b1' (index 7) quit. 0 workers ready.
[2024-09-04 14:41:27,233] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:41:27,233] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:41:27,233] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_c95b361e5600431e97e1b709939d0bb9' (index 6) quit. 0 workers ready.
[2024-09-04 14:41:27,234] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_42496e8a8f1843a7b881857cf3226cde' (index 2) quit. 0 workers ready.
[2024-09-04 14:41:27,237] MacBook-Pro/INFO/locust.main: Shutting down (exit code 0)
[2024-09-04 14:41:27,237] MacBook-Pro/INFO/locust.runners: Worker 'MacBook-Pro.local_3f366f3c32974320bdffb394bcf22977' (index 8) quit. 0 workers ready.
[2024-09-04 14:41:27,238] MacBook-Pro/INFO/locust.runners: The last worker quit, stopping test.
[2024-09-04 14:41:27,710] MacBook-Pro/INFO/locust.main: writing html report to file: record/20240904T144123Z/round-user_num_10/report_user_num_10.html
[2024-09-04 14:41:28,214] MacBook-Pro/INFO/locust.main: Shutting down (exit code 1)
